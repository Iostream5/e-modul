<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="../../bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="../../animate/node_modules/animate.css/animate.min.css">
    <link rel="stylesheet" href="../../bootstrap/custom.css">
</head>

<body class="">
    <div class="main d-flex align-items-center justify-content-center">
        <div class="bg-main">
            <img class="asset animate__animated" src="../../images/asset-langit.png" alt="">
            <div class="asset d-flex justify-content-center">
                <img class="asset animate__animated animate__bounceInUp" src="../../images/asset-tanah2.png" alt="">
                <div class="animate__animated animate__flash">
                    <img class="asset angin" src="../../images/asset_angin.png" alt="">
                </div>
            </div>
        </div>
    </div>
    <div class="contain">
        <div class="header overflow-hidden">
            <img class="roll animate__animated animate__bounceInDown2 img-fluid" src="../../images/roll2.png" alt="">
        </div>
        <div class="header">
            <p id="part" class="bagian animate__animated animate__bounceInDown">Pendahuluan</p>
            <p id="title" class="part animate__animated animate__bounceInDown">Awal Mula Cerita</p>
        </div>
        <div class="content ">
<img class="paperin animate__animated animate__bounceInUp img-fluid" src="../../images/paper.png" alt="">
            <img id="image_cerita" class="image_cerita animate__animated animate__fadeIn" src="../../images/img.png" alt="">        </div>
        <div class="text animate__animated ">
            <p id="text" class="animate__animated animate__fadeIn">Di masa yang sangat lampau, manusia mulai melupakan ajaran Allah dan menyembah berhala. Mereka lebih memilih hidup dalam keburukan dan kezaliman. 
                Allah kemudian mengutus Nabi Nuh untuk mengingatkan kaumnya agar kembali kepada jalan yang benar. Nabi Nuh adalah seorang yang penuh kesabaran dan keteguhan dalam menyampaikan pesan Allah.</p>
        </div>
        <div class="next">
            <button class="animate__animated animate__fadeIn2" onclick="prev()" id="prevButton" disabled><img id="img"
                    src="../../asset/button/prev.png" alt="Prev" class="img-fluid btn-img"></button>
            <button class="animate__animated animate__fadeIn2" onclick="home()"><img src="../../asset/button/home.png"
                    alt="" class="img-fluid"></button>
            <button class="animate__animated animate__fadeIn2" onclick="next()" id="nextButton"><img id="img"
                    src="../../asset/button/next.png" alt="Next" class="img-fluid btn-img"></button>
        </div>
    </div>

    <audio style="display: none;" id="clickSound2">
        <source src="../../asset/sound/click2.mp3" type="audio/mpeg">
    </audio>
    <audio style="display: none;" id="clickSound">
        <source src="../../asset/sound/click.mp3" type="audio/mpeg">
    </audio>
    <audio style="display: none;" id="home">
        <source src="../../asset/sound/play.mp3" type="audio/mpeg">
    </audio>
    <audio style="display: none;" id="buble">
        <source src="../../asset/sound/bubble.mp3" type="audio/mpeg">
    </audio>

    <script>
        const clickSound2 = document.getElementById('clickSound2');
        function clicks2() {
            clickSound2.play();
         }
        const clickSound = document.getElementById('clickSound');
        function clicks() {
            clickSound.play();
         }
        const homeClick = document.getElementById('home');
        function homeClicks() {
            homeClick.play();
         }
        const buble= document.getElementById('buble');
        function bubble() {
            buble.play();
         }
        const part = document.getElementById('part');
        const canvas = document.getElementById('text');
        const title = document.getElementById('title');
        const prevButton = document.getElementById('prevButton');
        const nextButton = document.getElementById('nextButton');
        const prevImg = prevButton.querySelector('img');
        const nextImg = nextButton.querySelector('img');
        let page = 0;

        function transitionOut() {
            document.querySelectorAll('.animate__bounceInDown').forEach(function (element) {
                element.classList.remove('animate__bounceInDown');
                element.classList.add('animate__bounceOutUp');
            });
            document.querySelectorAll('.animate__fadeIn').forEach(function (element) {
                element.classList.remove('animate__fadeIn');
                element.classList.add('animate__fadeOut');
            });
        }

        function transitionIn() {
            document.querySelectorAll('.animate__bounceOutUp').forEach(function (element) {
                element.classList.remove('animate__bounceOutUp');
                element.classList.add('animate__bounceInDown');
            });
            document.querySelectorAll('.animate__fadeOut').forEach(function (element) {
                element.classList.remove('animate__fadeOut');
                element.classList.add('animate__fadeIn');
            });
        }

        function transitionOutAll() {
            document.querySelectorAll('.animate__bounceInDown').forEach(function (element) {
                element.classList.remove('animate__bounceInDown');
                element.classList.add('animate__bounceOutUp');
            });
            document.querySelectorAll('.animate__fadeIn').forEach(function (element) {
                element.classList.remove('animate__fadeIn');
                element.classList.add('animate__fadeOut');
            });
            document.querySelectorAll('.animate__bounceInUp').forEach(function (element) {
                element.classList.remove('animate__bounceInUp');
                element.classList.add('animate__bounceOutDown');
            });
            document.querySelectorAll('.animate__bounceInDown2').forEach(function (element) {
                element.classList.remove('animate__bounceInDown2');
                element.classList.add('animate__bounceOutUp');
            });
        }


       function home() {
            homeClicks()
            transitionOutAll()
            setTimeout(() => {
                window.location = "../DaftarIsi.html"
            }, 1000);
        }

        function next() {
            clicks2()
            transitionOut()
            setTimeout(() => {
                page++;
                transitionIn()
                updateContent();
            }, 500);
        }

        function prev() {
            clicks()
            transitionOut()
            setTimeout(() => {
                if (page > 0) {
                    page--;
                    transitionIn()
                    updateContent();
                }
            }, 1000);
        }

        
        const maxPage = 5; 

        function updateContent() {
            switch (page) {
                case 0:
                    part.innerHTML = 'Pendahuluan:';
                    title.innerHTML = 'Nabi Nuh dan Bahtera Keselamatan';
                    canvas.innerHTML = `Di masa yang sangat lampau, manusia mulai melupakan ajaran Allah dan menyembah berhala. Mereka lebih memilih hidup dalam keburukan dan kezaliman. 
            Allah kemudian mengutus Nabi Nuh untuk mengingatkan kaumnya agar kembali kepada jalan yang benar. Nabi Nuh adalah seorang yang penuh kesabaran dan keteguhan dalam menyampaikan pesan Allah.`;
                    break;

                case 1:
                    part.innerHTML = 'Bagian Tengah:';
                    title.innerHTML = 'Dakwah Nabi Nuh';
                    canvas.innerHTML = `Selama ratusan tahun, Nabi Nuh mengajak kaumnya untuk meninggalkan penyembahan berhala dan hanya menyembah Allah. Namun, mayoritas kaumnya menolak. 
            Mereka mencemooh Nabi Nuh, bahkan menganggapnya sebagai orang yang gila.

            Hanya sedikit orang yang mau mengikuti ajaran Nabi Nuh. Meski demikian, Nabi Nuh tidak pernah menyerah. Ia terus berdakwah, mengingatkan kaumnya akan azab Allah jika mereka tidak bertaubat.`;
                    break;

                case 2:
                    part.innerHTML = 'Bagian Tengah:';
                    title.innerHTML = 'Perintah Membangun Bahtera';
                    canvas.innerHTML = `Ketika kaumnya tetap keras kepala dan menolak ajaran Allah, Nabi Nuh menerima wahyu dari Allah: sebuah azab berupa banjir besar akan datang. 
            Allah memerintahkan Nabi Nuh untuk membangun sebuah bahtera besar. Dengan penuh ketaatan, Nabi Nuh mulai membuat bahtera meskipun banyak orang mengejeknya.

            Setelah bahtera selesai, Allah memerintahkan Nabi Nuh untuk membawa orang-orang yang beriman ke dalamnya, serta sepasang dari setiap jenis hewan, jantan dan betina, agar kehidupan tetap berlanjut setelah banjir.`;
                    break;

                case 3:
                    part.innerHTML = 'Bagian Tengah:';
                    title.innerHTML = 'Banjir Besar';
                    canvas.innerHTML = `Ketika waktu yang dijanjikan tiba, langit mulai menumpahkan hujan yang deras, dan bumi memuntahkan air dari dalamnya. 
            Air meluap hingga menenggelamkan segala sesuatu. Nabi Nuh dan para pengikutnya selamat karena berada di dalam bahtera. Namun, salah satu putra Nabi Nuh menolak ikut dan memilih bertahan di daratan. 
            Meski Nabi Nuh memanggilnya dengan penuh kasih, anaknya tetap menolak dan akhirnya tenggelam bersama kaum yang durhaka.`;
                    break;

                case 4:
                    part.innerHTML = 'Penutup:';
                    title.innerHTML = 'Penutup';
                    canvas.innerHTML = `Setelah banjir reda, bahtera Nabi Nuh mendarat di sebuah tempat yang disebut Gunung Judi. Nabi Nuh dan para pengikutnya yang selamat memulai kehidupan baru di bumi. 
            Nabi Nuh terus mengajarkan kebaikan dan ketakwaan kepada Allah.`;
                    break;

                case 5:
                    part.innerHTML = 'Pesan Moral:';
                    title.innerHTML = ' ';
                    canvas.innerHTML = `Kisah Nabi Nuh mengajarkan pentingnya ketaatan kepada Allah dan bahaya kesombongan serta keingkaran. 
            Kesabaran dan keteguhan dalam menghadapi cobaan juga menjadi pelajaran yang sangat berharga.`;
                    break;
            }

            prevButton.disabled = (page === 0);
            if (page >= maxPage) {
                nextImg.src = '../../asset/button/game.png';
                nextButton.onclick = () => {
                    transitionOutAll()
                    bubble()
                    setTimeout(() => {

                        window.location.href = '../../soal/NabiNuh.html';
                    }, 1000)
                };

            } else {
                nextImg.src = '../../asset/button/next.png';
                nextButton.onclick = next;
            }

            if (prevButton.disabled) {
                prevImg.classList.add('monochrome');
            } else {
                prevImg.classList.remove('monochrome');
            }
        }

    </script>

    <script src="../../node_modules/swiper/swiper-element-bundle.min.js"></script>
</body>

</html>